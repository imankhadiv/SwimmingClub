(function(e){"use strict";function o(e){return Object.prototype.toString.call(e)==="[object Array]"}function u(e){return e instanceof Function}function a(e){return!u(e)&&e instanceof Object}function f(e,t){var n;for(n in t)a(t[n])||o(t[n])?(a(t[n])&&!a(e[n])&&(e[n]={}),o(t[n])&&!o(e[n])&&(e[n]=[]),f(e[n],t[n])):t[n]!==undefined&&(e[n]=t[n])}function l(e,t){var n={};return f(n,e),f(n,t),n}function c(e){var t,n,s,o,u,a,f,l,c,h,p;h=Object.prototype.toString.call(e);if(h==="[object Date]")return e;if(h!=="[object String]")return;if(s=e.match(r))return p=parseInt(s[1],10),a=parseInt(s[3],10)-1,t=parseInt(s[5],10),n=parseInt(s[7],10),u=s[9]?parseInt(s[9],10):0,c=s[11]?parseInt(s[11],10):0,o=s[12]?parseFloat(i+s[12].slice(1))*1e3:0,l=Date.UTC(p,a,t,n,u,c,o),s[13]&&s[14]&&(f=s[15]*60,s[17]&&(f+=parseInt(s[17],10)),f*=s[14]==="-"?-1:1,l-=f*60*1e3),new Date(l)}function h(e){var t,n,r;for(t=0;t<e.length;t++){r=e[t].data;for(n=0;n<r.length;n++)if(r[n][1]<0)return!0}return!1}function p(e,t,n,r,i){return function(s,o,u){var a=l({},e);return a=l(a,u||{}),o.hideLegend&&t(a),"min"in o?n(a,o.min):h(s)||n(a,0),"max"in o&&r(a,o.max),o.stacked&&i(a),o.colors&&(a.colors=o.colors),a=l(a,o.library||{}),a}}function d(e,t){document.body.innerText?e.innerText=t:e.textContent=t}function v(e,t){d(e,"Error Loading Chart: "+t),e.style.color="#ff0000"}function m(t,n,r){var i=e.jQuery||e.Zepto||e.$;i.ajax({dataType:"json",url:n,success:r,error:function(e,n,r){var i=typeof r=="string"?r:r.message;v(t,i)}})}function g(e,t){try{t(e)}catch(n){throw v(e.element,n.message),n}}function y(e,t){typeof e.dataSource=="string"?m(e.element,e.dataSource,function(n,r,i){e.data=n,g(e,t)}):(e.data=e.dataSource,g(e,t))}function b(e){return""+e}function w(e){return parseFloat(e)}function E(e){if(typeof e!="object")if(typeof e=="number")e=new Date(e*1e3);else{var t=e.replace(/ /,"T").replace(" ","").replace("UTC","Z");e=c(t)||new Date(e)}return e}function S(e){if(!o(e)){var t=[],n;for(n in e)e.hasOwnProperty(n)&&t.push([n,e[n]]);e=t}return e}function x(e,t){return e[0].getTime()-t[0].getTime()}function C(e,t){var n,r,i;i="render"+e;for(n=0;n<s.length;n++){r=s[n];if(u(r[i]))return r[i](t)}throw new Error("No adapter found")}function k(e,t,n){var r,i,s,u,a;!o(e)||typeof e[0]!="object"||o(e[0])?(e=[{name:"Value",data:e}],t.hideLegend=!0):t.hideLegend=!1,t.discrete&&(n=!1);for(r=0;r<e.length;r++){s=S(e[r].data),u=[];for(i=0;i<s.length;i++)a=s[i][0],a=n?E(a):b(a),u.push([a,w(s[i][1])]);n&&u.sort(x),e[r].data=u}return e}function L(e){var t=S(e),n;for(n=0;n<t.length;n++)t[n]=[b(t[n][0]),w(t[n][1])];return t}function A(e){var t;for(t=0;t<e.length;t++)e[t][1]=E(e[t][1]),e[t][2]=E(e[t][2]);return e}function O(e){e.data=k(e.data,e.options,!0),C("LineChart",e)}function M(e){e.data=k(e.data,e.options,!1),C("ColumnChart",e)}function _(e){e.data=L(e.data),C("PieChart",e)}function D(e){e.data=k(e.data,e.options,!1),C("BarChart",e)}function P(e){e.data=k(e.data,e.options,!0),C("AreaChart",e)}function H(e){e.data=L(e.data),C("GeoChart",e)}function B(e){e.data=A(e.data),C("Timeline",e)}function j(e,t,r,i,s){typeof t=="string"&&(t=document.getElementById(t)),e.element=t,e.options=i||{},e.dataSource=r,n.charts[t.id]=e,y(e,s)}var t=e.Chartkick||{},n,r,i,s=[];r=/(\d\d\d\d)(\-)?(\d\d)(\-)?(\d\d)(T)?(\d\d)(:)?(\d\d)?(:)?(\d\d)?([\.,]\d+)?($|Z|([\+\-])(\d\d)(:)?(\d\d)?)/i,i=String(1.5).charAt(1);if("Highcharts"in e){var T=new function(){var t=e.Highcharts,n={chart:{},xAxis:{labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},series:{marker:{}}}},r=function(e){e.legend.enabled=!1},i=function(e,t){e.yAxis.min=t},s=function(e,t){e.yAxis.max=t},o=function(e){e.plotOptions.series.stacking="normal"},u=p(n,r,i,s,o);this.renderLineChart=function(e,n){n=n||"spline";var r={};n==="areaspline"&&(r={plotOptions:{areaspline:{stacking:"normal"},series:{marker:{enabled:!1}}}});var i=u(e.data,e.options,r),s,o,a;i.xAxis.type=e.options.discrete?"category":"datetime",i.chart.type=n,i.chart.renderTo=e.element.id;var f=e.data;for(o=0;o<f.length;o++){s=f[o].data;if(!e.options.discrete)for(a=0;a<s.length;a++)s[a][0]=s[a][0].getTime();f[o].marker={symbol:"circle"}}i.series=f,new t.Chart(i)},this.renderPieChart=function(e){var r={};e.options.colors&&(r.colors=e.options.colors);var i=l(l(n,r),e.options.library||{});i.chart.renderTo=e.element.id,i.series=[{type:"pie",name:"Value",data:e.data}],new t.Chart(i)},this.renderColumnChart=function(e,n){var n=n||"column",r=e.data,i=u(r,e.options),s,o,a,f,l=[];i.chart.type=n,i.chart.renderTo=e.element.id;for(s=0;s<r.length;s++){a=r[s];for(o=0;o<a.data.length;o++)f=a.data[o],l[f[0]]||(l[f[0]]=new Array(r.length)),l[f[0]][s]=f[1]}var c=[];for(s in l)l.hasOwnProperty(s)&&c.push(s);i.xAxis.categories=c;var h=[];for(s=0;s<r.length;s++){f=[];for(o=0;o<c.length;o++)f.push(l[c[o]][s]||0);h.push({name:r[s].name,data:f})}i.series=h,new t.Chart(i)};var a=this;this.renderBarChart=function(e){a.renderColumnChart(e,"bar")},this.renderAreaChart=function(e){a.renderLineChart(e,"areaspline")}};s.push(T)}if(e.google&&e.google.setOnLoadCallback){var N=new function(){var n=e.google,r={},i=[],s=function(){var e,t;for(var r=0;r<i.length;r++)e=i[r],t=n.visualization&&(e.pack=="corechart"&&n.visualization.LineChart||e.pack=="timeline"&&n.visualization.Timeline),t&&(e.callback(),i.splice(r,1),r--)},o=function(e,o){o||(o=e,e="corechart"),i.push({pack:e,callback:o});if(r[e])s();else{r[e]=!0;var u={packages:[e],callback:s};t.language&&(u.language=t.language),n.load("visualization","1",u)}},u={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},a=function(e){e.legend.position="none"},f=function(e,t){e.vAxis.viewWindow.min=t},c=function(e,t){e.vAxis.viewWindow.max=t},h=function(e,t){e.hAxis.viewWindow.min=t},d=function(e,t){e.hAxis.viewWindow.max=t},v=function(e){e.isStacked=!0},m=p(u,a,f,c,v),g=function(e,t){var r=new n.visualization.DataTable;r.addColumn(t,"");var i,s,o,u,a,f=[];for(i=0;i<e.length;i++){o=e[i],r.addColumn("number",o.name);for(s=0;s<o.data.length;s++)u=o.data[s],a=t==="datetime"?u[0].getTime():u[0],f[a]||(f[a]=new Array(e.length)),f[a][i]=w(u[1])}var l=[];for(i in f)f.hasOwnProperty(i)&&l.push([t==="datetime"?new Date(w(i)):i].concat(f[i]));return t==="datetime"&&l.sort(x),r.addRows(l),r},y=function(t){e.attachEvent?e.attachEvent("onresize",t):e.addEventListener&&e.addEventListener("resize",t,!0),t()};this.renderLineChart=function(e){o(function(){var t=m(e.data,e.options),r=g(e.data,e.options.discrete?"string":"datetime");e.chart=new n.visualization.LineChart(e.element),y(function(){e.chart.draw(r,t)})})},this.renderPieChart=function(e){o(function(){var t={chartArea:{top:"10%",height:"80%"}};e.options.colors&&(t.colors=e.options.colors);var r=l(l(u,t),e.options.library||{}),i=new n.visualization.DataTable;i.addColumn("string",""),i.addColumn("number","Value"),i.addRows(e.data),e.chart=new n.visualization.PieChart(e.element),y(function(){e.chart.draw(i,r)})})},this.renderColumnChart=function(e){o(function(){var t=m(e.data,e.options),r=g(e.data,"string");e.chart=new n.visualization.ColumnChart(e.element),y(function(){e.chart.draw(r,t)})})},this.renderBarChart=function(e){o(function(){var t={hAxis:{gridlines:{color:"#ccc"}}},r=p(u,a,h,d,v)(e.data,e.options,t),i=g(e.data,"string");e.chart=new n.visualization.BarChart(e.element),y(function(){e.chart.draw(i,r)})})},this.renderAreaChart=function(e){o(function(){var t={isStacked:!0,pointSize:0,areaOpacity:.5},r=m(e.data,e.options,t),i=g(e.data,e.options.discrete?"string":"datetime");e.chart=new n.visualization.AreaChart(e.element),y(function(){e.chart.draw(i,r)})})},this.renderGeoChart=function(e){o(function(){var t={legend:"none",colorAxis:{colors:e.options.colors||["#f6c7b6","#ce502d"]}},r=l(l(u,t),e.options.library||{}),i=new n.visualization.DataTable;i.addColumn("string",""),i.addColumn("number","Value"),i.addRows(e.data),e.chart=new n.visualization.GeoChart(e.element),y(function(){e.chart.draw(i,r)})})},this.renderTimeline=function(e){o("timeline",function(){var t={legend:"none"};e.options.colors&&(t.colorAxis.colors=e.options.colors);var r=l(l(u,t),e.options.library||{}),i=new n.visualization.DataTable;i.addColumn({type:"string",id:"Name"}),i.addColumn({type:"date",id:"Start"}),i.addColumn({type:"date",id:"End"}),i.addRows(e.data),e.chart=new n.visualization.Timeline(e.element),y(function(){e.chart.draw(i,r)})})}};s.push(N)}n={LineChart:function(e,t,n){j(this,e,t,n,O)},PieChart:function(e,t,n){j(this,e,t,n,_)},ColumnChart:function(e,t,n){j(this,e,t,n,M)},BarChart:function(e,t,n){j(this,e,t,n,D)},AreaChart:function(e,t,n){j(this,e,t,n,P)},GeoChart:function(e,t,n){j(this,e,t,n,H)},Timeline:function(e,t,n){j(this,e,t,n,B)},charts:{}},e.Chartkick=n})(window);